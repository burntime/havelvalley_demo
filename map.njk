---
layout: layouts/main.njk
eleventyNavigation:
  key: Map
---
<link rel="stylesheet" href="/js/map.css">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>

<div id="valleyMap">
  <div id="valleyMapPopup"></div>
</div>

<script src="/js/map.js"></script>
<script>
  (()=> {
    const mapEntrysArray = [];
    {%- for entry in mapData %}
      mapEntrysArray.push({
        lon: {{ entry.lon }},
        lat: {{ entry.lat }},
        name: '{{ entry.name }}',
      });
    {%- endfor %}

    document.addEventListener("DOMContentLoaded", function(event) {
      window.valley.initMap(mapEntrysArray);
    });
})();
</script>
